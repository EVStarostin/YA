!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t,n){},,function(e,t,n){
/*!
 * PEP v0.4.3 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
e.exports=function(){"use strict";var e=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],t=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function n(n,r){r=r||Object.create(null);var o=document.createEvent("Event");o.initEvent(n,r.bubbles||!1,r.cancelable||!1);for(var i,a=2;a<e.length;a++)i=e[a],o[i]=r[i]||t[a];o.buttons=r.buttons||0;var s=0;return s=r.pressure&&o.buttons?r.pressure:o.buttons?.5:0,o.x=o.clientX,o.y=o.clientY,o.pointerId=r.pointerId||0,o.width=r.width||0,o.height=r.height||0,o.pressure=s,o.tiltX=r.tiltX||0,o.tiltY=r.tiltY||0,o.twist=r.twist||0,o.tangentialPressure=r.tangentialPressure||0,o.pointerType=r.pointerType||"",o.hwTimestamp=r.hwTimestamp||0,o.isPrimary=r.isPrimary||!1,o}var r=window.Map&&window.Map.prototype.forEach?Map:o;function o(){this.array=[],this.size=0}o.prototype={set:function(e,t){if(void 0===t)return this.delete(e);this.has(e)||this.size++,this.array[e]=t},has:function(e){return void 0!==this.array[e]},delete:function(e){this.has(e)&&(delete this.array[e],this.size--)},get:function(e){return this.array[e]},clear:function(){this.array.length=0,this.size=0},forEach:function(e,t){return this.array.forEach(function(n,r){e.call(t,n,r,this)},this)}};var i=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},c="undefined"!=typeof SVGElementInstance,u={pointermap:new r,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(e,t){var n=t,r=n.events;r&&(r.forEach(function(e){n[e]&&(this.eventMap[e]=n[e].bind(n))},this),this.eventSources[e]=n,this.eventSourceList.push(n))},register:function(e){for(var t,n=this.eventSourceList.length,r=0;r<n&&(t=this.eventSourceList[r]);r++)t.register.call(t,e)},unregister:function(e){for(var t,n=this.eventSourceList.length,r=0;r<n&&(t=this.eventSourceList[r]);r++)t.unregister.call(t,e)},contains:function(e,t){try{return e.contains(t)}catch(e){return!1}},down:function(e){e.bubbles=!0,this.fireEvent("pointerdown",e)},move:function(e){e.bubbles=!0,this.fireEvent("pointermove",e)},up:function(e){e.bubbles=!0,this.fireEvent("pointerup",e)},enter:function(e){e.bubbles=!1,this.fireEvent("pointerenter",e)},leave:function(e){e.bubbles=!1,this.fireEvent("pointerleave",e)},over:function(e){e.bubbles=!0,this.fireEvent("pointerover",e)},out:function(e){e.bubbles=!0,this.fireEvent("pointerout",e)},cancel:function(e){e.bubbles=!0,this.fireEvent("pointercancel",e)},leaveOut:function(e){this.out(e),this.propagate(e,this.leave,!1)},enterOver:function(e){this.over(e),this.propagate(e,this.enter,!0)},eventHandler:function(e){if(!e._handledByPE){var t=e.type,n=this.eventMap&&this.eventMap[t];n&&n(e),e._handledByPE=!0}},listen:function(e,t){t.forEach(function(t){this.addEvent(e,t)},this)},unlisten:function(e,t){t.forEach(function(t){this.removeEvent(e,t)},this)},addEvent:function(e,t){e.addEventListener(t,this.boundHandler)},removeEvent:function(e,t){e.removeEventListener(t,this.boundHandler)},makeEvent:function(e,t){this.captureInfo[t.pointerId]&&(t.relatedTarget=null);var r=new n(e,t);return t.preventDefault&&(r.preventDefault=t.preventDefault),r._target=r._target||t.target,r},fireEvent:function(e,t){var n=this.makeEvent(e,t);return this.dispatchEvent(n)},cloneEvent:function(e){for(var t,n=Object.create(null),r=0;r<i.length;r++)n[t=i[r]]=e[t]||a[r],!c||"target"!==t&&"relatedTarget"!==t||n[t]instanceof SVGElementInstance&&(n[t]=n[t].correspondingUseElement);return e.preventDefault&&(n.preventDefault=function(){e.preventDefault()}),n},getTarget:function(e){var t=this.captureInfo[e.pointerId];return t?e._target!==t&&e.type in s?void 0:t:e._target},propagate:function(e,t,n){for(var r=e.target,o=[];r!==document&&!r.contains(e.relatedTarget);)if(o.push(r),!(r=r.parentNode))return;n&&o.reverse(),o.forEach(function(n){e.target=n,t.call(this,e)},this)},setCapture:function(e,t,r){this.captureInfo[e]&&this.releaseCapture(e,r),this.captureInfo[e]=t,this.implicitRelease=this.releaseCapture.bind(this,e,r),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var o=new n("gotpointercapture");o.pointerId=e,o._target=t,r||this.asyncDispatchEvent(o)},releaseCapture:function(e,t){var r=this.captureInfo[e];if(r){this.captureInfo[e]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var o=new n("lostpointercapture");o.pointerId=e,o._target=r,t||this.asyncDispatchEvent(o)}},dispatchEvent:function(e){var t=this.getTarget(e);if(t)return t.dispatchEvent(e)},asyncDispatchEvent:function(e){requestAnimationFrame(this.dispatchEvent.bind(this,e))}};u.boundHandler=u.eventHandler.bind(u);var l={shadow:function(e){if(e)return e.shadowRoot||e.webkitShadowRoot},canTarget:function(e){return e&&Boolean(e.elementFromPoint)},targetingShadow:function(e){var t=this.shadow(e);if(this.canTarget(t))return t},olderShadow:function(e){var t=e.olderShadowRoot;if(!t){var n=e.querySelector("shadow");n&&(t=n.olderShadowRoot)}return t},allShadows:function(e){for(var t=[],n=this.shadow(e);n;)t.push(n),n=this.olderShadow(n);return t},searchRoot:function(e,t,n){if(e){var r,o,i=e.elementFromPoint(t,n);for(o=this.targetingShadow(i);o;){if(r=o.elementFromPoint(t,n)){var a=this.targetingShadow(r);return this.searchRoot(a,t,n)||r}o=this.olderShadow(o)}return i}},owner:function(e){for(var t=e;t.parentNode;)t=t.parentNode;return t.nodeType!==Node.DOCUMENT_NODE&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(t=document),t},findTarget:function(e){var t=e.clientX,n=e.clientY,r=this.owner(e.target);return r.elementFromPoint(t,n)||(r=document),this.searchRoot(r,t,n)}},d=Array.prototype.forEach.call.bind(Array.prototype.forEach),h=Array.prototype.map.call.bind(Array.prototype.map),p=Array.prototype.slice.call.bind(Array.prototype.slice),v=Array.prototype.filter.call.bind(Array.prototype.filter),f=window.MutationObserver||window.WebKitMutationObserver,m={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function y(e,t,n,r){this.addCallback=e.bind(r),this.removeCallback=t.bind(r),this.changedCallback=n.bind(r),f&&(this.observer=new f(this.mutationWatcher.bind(this)))}function g(e){return"body /shadow-deep/ "+b(e)}function b(e){return'[touch-action="'+e+'"]'}function E(e){return"{ -ms-touch-action: "+e+"; touch-action: "+e+"; }"}y.prototype={watchSubtree:function(e){this.observer&&l.canTarget(e)&&this.observer.observe(e,m)},enableOnSubtree:function(e){this.watchSubtree(e),e===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(e)},installNewSubtree:function(e){d(this.findElements(e),this.addElement,this)},findElements:function(e){return e.querySelectorAll?e.querySelectorAll("[touch-action]"):[]},removeElement:function(e){this.removeCallback(e)},addElement:function(e){this.addCallback(e)},elementChanged:function(e,t){this.changedCallback(e,t)},concatLists:function(e,t){return e.concat(p(t))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(e){return e.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(e){var t=h(e,this.findElements,this);return t.push(v(e,this.isElement)),t.reduce(this.concatLists,[])},mutationWatcher:function(e){e.forEach(this.mutationHandler,this)},mutationHandler:function(e){if("childList"===e.type){var t=this.flattenMutationTree(e.addedNodes);t.forEach(this.addElement,this);var n=this.flattenMutationTree(e.removedNodes);n.forEach(this.removeElement,this)}else"attributes"===e.type&&this.elementChanged(e.target,e.oldValue)}};var S=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],T="",w=window.PointerEvent||window.MSPointerEvent,P=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,_=u.pointermap,I=[1,4,2,8,16],C=!1;try{C=1===new MouseEvent("test",{buttons:1}).buttons}catch(e){}var O,M={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(e){u.listen(e,this.events)},unregister:function(e){u.unlisten(e,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(e){for(var t,n=this.lastTouches,r=e.clientX,o=e.clientY,i=0,a=n.length;i<a&&(t=n[i]);i++){var s=Math.abs(r-t.x),c=Math.abs(o-t.y);if(s<=25&&c<=25)return!0}},prepareEvent:function(e){var t=u.cloneEvent(e),n=t.preventDefault;return t.preventDefault=function(){e.preventDefault(),n()},t.pointerId=this.POINTER_ID,t.isPrimary=!0,t.pointerType=this.POINTER_TYPE,t},prepareButtonsForMove:function(e,t){var n=_.get(this.POINTER_ID);0!==t.which&&n?e.buttons=n.buttons:e.buttons=0,t.buttons=e.buttons},mousedown:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=_.get(this.POINTER_ID),n=this.prepareEvent(e);C||(n.buttons=I[n.button],t&&(n.buttons|=t.buttons),e.buttons=n.buttons),_.set(this.POINTER_ID,e),t&&0!==t.buttons?u.move(n):u.down(n)}},mousemove:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);C||this.prepareButtonsForMove(t,e),t.button=-1,_.set(this.POINTER_ID,e),u.move(t)}},mouseup:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=_.get(this.POINTER_ID),n=this.prepareEvent(e);if(!C){var r=I[n.button];n.buttons=t?t.buttons&~r:0,e.buttons=n.buttons}_.set(this.POINTER_ID,e),n.buttons&=~I[n.button],0===n.buttons?u.up(n):u.move(n)}},mouseover:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);C||this.prepareButtonsForMove(t,e),t.button=-1,_.set(this.POINTER_ID,e),u.enterOver(t)}},mouseout:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);C||this.prepareButtonsForMove(t,e),t.button=-1,u.leaveOut(t)}},cancel:function(e){var t=this.prepareEvent(e);u.cancel(t),this.deactivateMouse()},deactivateMouse:function(){_.delete(this.POINTER_ID)}},L=u.captureInfo,x=l.findTarget.bind(l),R=l.allShadows.bind(l),k=u.pointermap,q={events:["touchstart","touchmove","touchend","touchcancel"],register:function(e){O.enableOnSubtree(e)},unregister:function(){},elementAdded:function(e){var t=e.getAttribute("touch-action"),n=this.touchActionToScrollType(t);n&&(e._scrollType=n,u.listen(e,this.events),R(e).forEach(function(e){e._scrollType=n,u.listen(e,this.events)},this))},elementRemoved:function(e){e._scrollType=void 0,u.unlisten(e,this.events),R(e).forEach(function(e){e._scrollType=void 0,u.unlisten(e,this.events)},this)},elementChanged:function(e,t){var n=e.getAttribute("touch-action"),r=this.touchActionToScrollType(n),o=this.touchActionToScrollType(t);r&&o?(e._scrollType=r,R(e).forEach(function(e){e._scrollType=r},this)):o?this.elementRemoved(e):r&&this.elementAdded(e)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(e){var t=e,n=this.scrollTypes;return"none"===t?"none":t===n.XSCROLLER?"X":t===n.YSCROLLER?"Y":n.SCROLLER.exec(t)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(e){return this.firstTouch===e.identifier},setPrimaryTouch:function(e){(0===k.size||1===k.size&&k.has(1))&&(this.firstTouch=e.identifier,this.firstXY={X:e.clientX,Y:e.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(e){e.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var e=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(e,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(e){var t=0;return"touchstart"!==e&&"touchmove"!==e||(t=1),t},touchToPointer:function(e){var t=this.currentTouchEvent,n=u.cloneEvent(e),r=n.pointerId=e.identifier+2;n.target=L[r]||x(n),n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount,n.button=0,n.buttons=this.typeToButtons(t.type),n.width=2*(e.radiusX||e.webkitRadiusX||0),n.height=2*(e.radiusY||e.webkitRadiusY||0),n.pressure=e.force||e.webkitForce||.5,n.isPrimary=this.isPrimaryTouch(e),n.pointerType=this.POINTER_TYPE,n.altKey=t.altKey,n.ctrlKey=t.ctrlKey,n.metaKey=t.metaKey,n.shiftKey=t.shiftKey;var o=this;return n.preventDefault=function(){o.scrolling=!1,o.firstXY=null,t.preventDefault()},n},processTouches:function(e,t){var n=e.changedTouches;this.currentTouchEvent=e;for(var r,o=0;o<n.length;o++)r=n[o],t.call(this,this.touchToPointer(r))},shouldScroll:function(e){if(this.firstXY){var t,n=e.currentTarget._scrollType;if("none"===n)t=!1;else if("XY"===n)t=!0;else{var r=e.changedTouches[0],o=n,i="Y"===n?"X":"Y",a=Math.abs(r["client"+o]-this.firstXY[o]),s=Math.abs(r["client"+i]-this.firstXY[i]);t=a>=s}return this.firstXY=null,t}},findTouch:function(e,t){for(var n,r=0,o=e.length;r<o&&(n=e[r]);r++)if(n.identifier===t)return!0},vacuumTouches:function(e){var t=e.touches;if(k.size>=t.length){var n=[];k.forEach(function(e,r){if(1!==r&&!this.findTouch(t,r-2)){var o=e.out;n.push(o)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(e){this.vacuumTouches(e),this.setPrimaryTouch(e.changedTouches[0]),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(e,this.overDown))},overDown:function(e){k.set(e.pointerId,{target:e.target,out:e,outTarget:e.target}),u.enterOver(e),u.down(e)},touchmove:function(e){this.scrolling||(this.shouldScroll(e)?(this.scrolling=!0,this.touchcancel(e)):(e.preventDefault(),this.processTouches(e,this.moveOverOut)))},moveOverOut:function(e){var t=e,n=k.get(t.pointerId);if(n){var r=n.out,o=n.outTarget;u.move(t),r&&o!==t.target&&(r.relatedTarget=t.target,t.relatedTarget=o,r.target=o,t.target?(u.leaveOut(r),u.enterOver(t)):(t.target=o,t.relatedTarget=null,this.cancelOut(t))),n.out=t,n.outTarget=t.target}},touchend:function(e){this.dedupSynthMouse(e),this.processTouches(e,this.upOut)},upOut:function(e){this.scrolling||(u.up(e),u.leaveOut(e)),this.cleanUpPointer(e)},touchcancel:function(e){this.processTouches(e,this.cancelOut)},cancelOut:function(e){u.cancel(e),u.leaveOut(e),this.cleanUpPointer(e)},cleanUpPointer:function(e){k.delete(e.pointerId),this.removePrimaryPointer(e)},dedupSynthMouse:function(e){var t=M.lastTouches,n=e.changedTouches[0];if(this.isPrimaryTouch(n)){var r={x:n.clientX,y:n.clientY};t.push(r);var o=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}.bind(null,t,r);setTimeout(o,2500)}}};O=new y(q.elementAdded,q.elementRemoved,q.elementChanged,q);var D,N,Y,A=u.pointermap,X=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,$={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(e){u.listen(e,this.events)},unregister:function(e){u.unlisten(e,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(e){var t=e;return X&&((t=u.cloneEvent(e)).pointerType=this.POINTER_TYPES[e.pointerType]),t},cleanup:function(e){A.delete(e)},MSPointerDown:function(e){A.set(e.pointerId,e);var t=this.prepareEvent(e);u.down(t)},MSPointerMove:function(e){var t=this.prepareEvent(e);u.move(t)},MSPointerUp:function(e){var t=this.prepareEvent(e);u.up(t),this.cleanup(e.pointerId)},MSPointerOut:function(e){var t=this.prepareEvent(e);u.leaveOut(t)},MSPointerOver:function(e){var t=this.prepareEvent(e);u.enterOver(t)},MSPointerCancel:function(e){var t=this.prepareEvent(e);u.cancel(t),this.cleanup(e.pointerId)},MSLostPointerCapture:function(e){var t=u.makeEvent("lostpointercapture",e);u.dispatchEvent(t)},MSGotPointerCapture:function(e){var t=u.makeEvent("gotpointercapture",e);u.dispatchEvent(t)}};function B(e){if(!u.pointermap.has(e)){var t=new Error("InvalidPointerId");throw t.name="InvalidPointerId",t}}function z(e){for(var t=e.parentNode;t&&t!==e.ownerDocument;)t=t.parentNode;if(!t){var n=new Error("InvalidStateError");throw n.name="InvalidStateError",n}}function F(e){var t=u.pointermap.get(e);return 0!==t.buttons}return window.navigator.msPointerEnabled?(D=function(e){B(e),z(this),F(e)&&(u.setCapture(e,this,!0),this.msSetPointerCapture(e))},N=function(e){B(e),u.releaseCapture(e,!0),this.msReleasePointerCapture(e)}):(D=function(e){B(e),z(this),F(e)&&u.setCapture(e,this)},N=function(e){B(e),u.releaseCapture(e)}),Y=function(e){return!!u.captureInfo[e]},function(){if(w){S.forEach(function(e){String(e)===e?(T+=b(e)+E(e)+"\n",P&&(T+=g(e)+E(e)+"\n")):(T+=e.selectors.map(b)+E(e.rule)+"\n",P&&(T+=e.selectors.map(g)+E(e.rule)+"\n"))});var e=document.createElement("style");e.textContent=T,document.head.appendChild(e)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=n,window.navigator.msPointerEnabled){var e=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:e,enumerable:!0}),u.registerSource("ms",$)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),u.registerSource("mouse",M),void 0!==window.ontouchstart&&u.registerSource("touch",q);u.register(document)}}(),window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:D},releasePointerCapture:{value:N},hasPointerCapture:{value:Y}}),{dispatcher:u,Installer:y,PointerEvent:n,PointerMap:r,targetFinding:l}}()},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);n(0),n(2),n(3);n(5);n(7);n(9);function r(){document.querySelectorAll(".event__title").forEach(e=>{const t=2*parseFloat(getComputedStyle(e).lineHeight);e.scrollHeight-t>5&&e.classList.add("event__title_truncated"),e.style.maxHeight=`${t}px`}),window.addEventListener("resize",r)}function o(){const e=1e3,t=100,n=30,r=0,o=500,i=document.getElementById("camera"),a=document.getElementById("scrollbar"),s=document.querySelector(".camera__zoom"),c=document.querySelector(".camera__brightness"),u=document.getElementById("reset-zoom");if(!i)return;i.addEventListener("dblclick",()=>{window.open("pointer-lock.html","_blank")});const l={events:[],prevPos:null,prevDiff:null,prevAngle:null},d={zoom:200,scroll:0,brightness:100};function h(e){!function(e){for(let t=0;t<l.events.length;t++)if(l.events[t].pointerId==e.pointerId){l.events.splice(t,1);break}}(e),l.events.length<2&&(l.prevDiff=null),l.events.length<1&&(l.prevPos=null),l.events.length<2&&(l.prevAngle=null)}function p(a){for(let e=0;e<l.events.length;e++)if(a.pointerId==l.events[e].pointerId){l.events[e]=a;break}l.events.length&&(2===l.events.length?function(a){const s={x:l.events[0].clientX,y:l.events[0].clientY},u={x:l.events[1].clientX,y:l.events[1].clientY},h=function(e,t){let n=Math.abs(t.x-e.x)**2,r=Math.abs(t.y-e.y)**2;return Math.sqrt(n+r)}(s,u),p=function(e,t){return 180*Math.atan2(t.x-e.x,t.y-e.y)/Math.PI}(s,u);if(l.prevDiff){d.zoom+=(h-l.prevDiff)*n,d.zoom>e?d.zoom=e:d.zoom<t&&(d.zoom=t);const r=i.clientWidth*d.zoom/100-a.target.clientWidth;f(a.target,d.zoom,r)}l.prevAngle&&Math.abs(p-l.prevAngle)<100&&(d.brightness-=p-l.prevAngle,d.brightness>o?d.brightness=o:d.brightness<r&&(d.brightness=r),function(e,t){e.style.filter=`brightness(${t}%)`,c.innerText=`Яркость: ${Math.round(t)}%`}(a.target,d.brightness));l.prevDiff=h,l.prevAngle=p}(a):1===l.events.length&&function(e){if(l.prevPos){const t=i.clientWidth*d.zoom/100-e.target.clientWidth;d.scroll+=e.x-l.prevPos,d.scroll>0?d.scroll=0:-d.scroll>t&&(d.scroll=-t),v(e.target,d.scroll,t)}l.prevPos=e.x}(a))}function v(e,t,n){e.style.backgroundPositionX=`${t}px`,a.style.left=`${100*-t/n}%`}function f(e,n,r){e.style.backgroundSize=`${n}%`,s.innerText=`Приближение: ${Math.round(n)}%`,n===t?a.style.display="none":"none"===a.style.display&&(a.style.display="block"),-parseFloat(e.style.backgroundPositionX)>r&&(e.style.backgroundPositionX=`${-r}px`)}u.onclick=(e=>{d.zoom=t,f(i,d.zoom),d.scroll=0,v(i,d.scroll)}),i.addEventListener("pointerdown",e=>{i.setPointerCapture(e.pointerId),l.events.push(e),i.addEventListener("pointermove",p)}),i.addEventListener("pointerup",h),i.addEventListener("pointercancel",h),i.addEventListener("pointerout",h),i.addEventListener("pointerleave",h)}n(11),n(13);(()=>{const e=document.querySelector(".PointerLock__block");if(!e)return;e.onclick=function(){e.requestPointerLock()},document.addEventListener("pointerlockchange",function(){document.pointerLockElement===e?document.addEventListener("mousemove",n,!1):document.removeEventListener("mousemove",n,!1)},!1);let t=0;function n(n){t+=n.movementX,e.style.backgroundPositionX=`${t}px`}})();n(15);function i(e,t){if(Hls.isSupported()){var n=new Hls;n.loadSource(t),n.attachMedia(e),n.on(Hls.Events.MANIFEST_PARSED,function(){e.play()})}else e.canPlayType("application/vnd.apple.mpegurl")&&(e.src=t,e.addEventListener("loadedmetadata",function(){e.play()}))}n(17);function a(){if(!document.querySelector(".cameras"))return;document.querySelectorAll(".cameras__item").forEach(t=>{t.addEventListener("click",n=>{!function(t){const n=t.querySelector(".cameras__video"),r=document.getElementById("modal");r.style.display="block",r.style.opacity="1",t.classList.add("cameras__item_fullscreen");const{clientWidth:o,clientHeight:i}=document.documentElement,a={x:o/2,y:i/2},{clientWidth:s,clientHeight:c}=t,u={x:t.offsetLeft+s/2,y:t.offsetTop+c/2},l={translate:{x:a.x-u.x,y:a.y-u.y},scale:Math.min(o/s,i/c)};t.style.transform=`\n      translate(${l.translate.x}px, ${l.translate.y}px) scale(${l.scale})\n    `,document.body.classList.add("body_fullscreen"),n.muted=!1;let d={brightness:100,contrast:100};document.getElementById("brightness").addEventListener("input",e=>{const t=document.querySelector(".cameras__item_fullscreen"),n=t.querySelector(".cameras__video");d.brightness=e.target.value,n.style.filter=`brightness(${d.brightness}%) contrast(${d.contrast}%)`}),document.getElementById("contrast").addEventListener("input",e=>{const t=document.querySelector(".cameras__item_fullscreen"),n=t.querySelector(".cameras__video");d.contrast=e.target.value,n.style.filter=`brightness(${d.brightness}%) contrast(${d.contrast}%)`}),function(t){const n=document.getElementById("analyzer"),r=n.getContext("2d");let o,i,a;e[t.id].audioCtx?(o=e[t.id].audioCtx,i=e[t.id].analyser,(a=e[t.id].source).connect(i),a.connect(o.destination)):(o=new(window.AudioContext||window.webkitAudioContext),e[t.id].audioCtx=o,(i=o.createAnalyser()).minDecibels=-90,i.maxDecibels=-10,i.smoothingTimeConstant=.85,e[t.id].analyser=i,a=o.createMediaElementSource(t),e[t.id].source=a,a.connect(i),a.connect(o.destination));!function(){const{width:e,height:t}=n;i.fftSize=256;const o=i.frequencyBinCount,a=new Uint8Array(o);r.clearRect(0,0,e,t);const s=function(){requestAnimationFrame(s),i.getByteFrequencyData(a),r.fillStyle="rgb(250, 220, 0)",r.fillRect(0,0,e,t);const n=e/o*2.5;let c,u=0;for(let e=0;e<o;e++)c=a[e],r.fillStyle="rgb(250,50,0)",r.fillRect(u,t-c/4,n,c/4),u+=n+1};s()}()}(n)}(t)})}),document.querySelector(".controls__all-cameras").addEventListener("click",e=>{!function(){const e=document.querySelector(".cameras__item_fullscreen"),t=e.querySelector(".cameras__video");e.style.transform="translate(0) scale(1)",document.body.classList.remove("body_fullscreen");const n=document.getElementById("modal");n.style.opacity="0",t.style.filter="none",t.muted=!0,document.getElementById("brightness").value="100",document.getElementById("contrast").value="100",setTimeout(()=>{n.style.display="none",e.classList.remove("cameras__item_fullscreen")},500)}()});let e={"video-1":{},"video-2":{},"video-3":{},"video-4":{}}}(async()=>{try{"ontouchstart"in window&&document.body.classList.add("touch"),document.getElementById("toggle-menu").addEventListener("click",()=>{document.getElementById("menu").classList.toggle("menu_visible")}),function(){const e="http://194.87.239.193";document.querySelector(".cameras")&&(i(document.getElementById("video-1"),`${e}:9191/master?url=${e}:3102/streams/sosed/master.m3u8`),i(document.getElementById("video-2"),`${e}:9191/master?url=${e}:3102/streams/cat/master.m3u8`),i(document.getElementById("video-3"),`${e}:9191/master?url=${e}:3102/streams/dog/master.m3u8`),i(document.getElementById("video-4"),`${e}:9191/master?url=${e}:3102/streams/hall/master.m3u8`))}(),a(),await async function(){let e;try{const t=await fetch("http://194.87.239.193:8000/api/events");e=await t.json()}catch(e){console.error(e)}if(!e)return null;const t=document.querySelector("#events"),n=document.querySelector("#events-template");if(!t||!n)return;const r=n.content.querySelector(".event");e.events.forEach(e=>{const o=document.importNode(r,!0);o.classList.add(`event_size_${e.size}`),"critical"===e.type&&o.classList.add("event_critical");const i=o.querySelector(".event__icon");if(i.setAttribute("src",`images/${e.icon}${"critical"===e.type?"-white":""}.svg`),i.setAttribute("alt",e.source),o.querySelector(".event__title").textContent=e.title,o.querySelector(".event__source").textContent=e.source,o.querySelector(".event__time").textContent=e.time,e.description||e.data){var a=document.createElement("div");a.classList.add("event__details"),o.appendChild(a)}if(e.description){const t=n.content.querySelector(".event__description"),r=document.importNode(t,!0);r.textContent=e.description,a.appendChild(r)}if(e.data&&"graph"===e.data.type){const e=n.content.querySelector(".graph"),t=document.importNode(e,!0);a.appendChild(t)}if(e.data&&e.data.temperature){const t=n.content.querySelector(".weather"),r=document.importNode(t,!0);r.querySelector("#temp").textContent=e.data.temperature,r.querySelector("#hum").textContent=e.data.humidity,a.appendChild(r)}if(e.data&&e.data.track){const t=n.content.querySelector(".track"),r=document.importNode(t,!0);r.querySelector(".track__cover").setAttribute("src",e.data.albumcover),r.querySelector(".track__name").textContent=`${e.data.artist} - ${e.data.track.name}`,r.querySelector(".track__time").textContent=e.data.track.length,r.querySelector(".track__vol").textContent=e.data.volume,a.appendChild(r)}if(e.data&&e.data.buttons){const t=n.content.querySelector(".btn-group"),r=document.importNode(t,!0);r.querySelector(".btn-group__btn-confirm").textContent=e.data.buttons[0],r.querySelector(".btn-group__btn-cancel").textContent=e.data.buttons[1],a.appendChild(r)}if(e.data&&e.data.image){const e=n.content.querySelector(".camera"),t=document.importNode(e,!0);a.appendChild(t)}t.appendChild(o)})}(),r(),o()}catch(e){console.error(e)}})()}]);
//# sourceMappingURL=script.js.map